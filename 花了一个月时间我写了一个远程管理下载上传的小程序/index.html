<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible"><meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=1.0,minimum-scale=1,user-scalable=no"><meta name="renderer" content="webkit"><meta name="color-scheme" content="dark light"><meta name="author" content="Rick Lee"><meta name="description" content="思绪里的光影"><meta name="keywords" content="小程序, 微信"><meta name="google-site-verification" content="pT025miUedSE-AHqhPkj7E9r3us5ch_qQHUFnDwly4w"><title>花了一个月时间，我写了一个远程管理下载上传的小程序</title><link rel="icon" type="image/x-icon" href="/images/favicon.ico"><link rel="stylesheet" href="//at.alicdn.com/t/font_3242539_utq6ykfq7z.css"><link rel="stylesheet" light-src="https://cdn.staticfile.org/highlight.js/11.5.0/styles/github.min.css" dark-src="https://cdn.staticfile.org/highlight.js/11.5.0/styles/github-dark.min.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif" as="font"><link href="/style/index.css" rel="stylesheet"><meta name="generator" content="Hexo 6.3.0"><link rel="alternate" href="/atom.xml" title="独语" type="application/atom+xml">
</head><script async src="https://www.googletagmanager.com/gtag/js?id=G-XCEJ392VGJ"></script><script>window.dataLayer = window.dataLayer || [];
function gtag() {
  dataLayer.push(arguments);
}
gtag('js', new Date());
gtag('config', 'G-XCEJ392VGJ');</script><body><header class="page-header"><nav><ul class="router-list"><li class="nav-item"> <a href="/">主页</a></li><li class="nav-item"> <a href="/archives/">归档</a></li><li class="nav-item"> <a href="/atom.xml">RSS</a></li></ul><div class="mode-switch"><span class="iconfont icon-DarkTheme"></span></div></nav></header><main><section class="main-content"><section class="post-page"><div class="title-bar"><h1>花了一个月时间，我写了一个远程管理下载上传的小程序</h1><div class="post-info"><span>2020-04-19 00:30:15</span><span class="tags"><a href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">#小程序</a><a href="/tags/qBittorrent/">#qBittorrent</a><a href="/tags/Transmission/">#Transmission</a><a href="/tags/Deluge/">#Deluge</a></span></div></div><div class="feature-img"><img src="https://static.duyu.page/img/2022/03/17/xiaochengxu233.jpeg" alt="feature-img"/></div><article> <div class="content"><p>由于众所周知的原因，对于使用 qBittorrent、Transmission 等 BitTorrent 客户端的用户来说,ios 上一直没有一个可以远程管理下载的工具。对于已经习惯了移动端掌控一切的我们来说，在手机上访问一个没有经过适配的 PC 网页这种事情实在是难以忍受。</p>
<p>好在，通过小程序可以解决这个问题。</p>
<p>在写了人生中第一个原型图，业余时间撸了一个月前后端的代码后，TransClient 这个小程序就这么诞生了。大家可以点击文末的小程序进行体验。</p>
<h2 id="TransClient-是做什么的"><a href="#TransClient-是做什么的" class="headerlink" title="TransClient 是做什么的"></a>TransClient 是做什么的</h2><p>简单来说，它是一个远程管理下载上传的工具。</p>
<p>目前可以支持 qBittorrent、Transmmison、Deluge 这三个客户端。</p>
<p>你可以通过 TransClient 添加种子文件或链接到这三个客户端进行下载，同时可以查看下载进度、上传和下载速度，以及进行删除、暂停等操作。</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" 
  class="img-loading" data-original="https://static.duyu.page/img/2022/03/17/img6060.jpg""></p>
<p>需要注意的是，TransClient 默认跳转到下载服务器列表，只有添加一个可用的下载服务器，才能正常使用小程序里的各项功能。</p>
<h2 id="下载服务器是什么"><a href="#下载服务器是什么" class="headerlink" title="下载服务器是什么"></a>下载服务器是什么</h2><p>下载服务器其实是指可以远程访问的 BT 客户端，QB&#x2F;TR&#x2F;DE 都提供了远程访问的能力，这些客户端可以安装在家里的 NAS 里，也可以安装在你购买的某个服务器里。只要确保这些客户端外网可以访问，那么就可以添加到小程序的下载服务器列表，然后就可以对客户端内的种子文件进行各种操作了。</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" 
  class="img-loading" data-original="https://static.duyu.page/img/2022/03/17/fu-wu-qi.jpg""></p>
<p>添加下载服务器需添加服务器对应的域名或 IP 以及端口号，如果设置有账号或者密码还需输入对应的账号密码。三个客户端里，Deluge 只需输入登录密码即可，而 qBittorrent 的账户和密码是必填的。输入完毕后，点击测试服务器，如果服务器可以正常连接的话，就可以添加到自己的下载服务器列表了。</p>
<h2 id="我该如何添加一个下载？"><a href="#我该如何添加一个下载？" class="headerlink" title="我该如何添加一个下载？"></a>我该如何添加一个下载？</h2><p>添加完服务器后可以到服务器的种子列表页，也就是 TransClient 的首页，点击页面右下角的添加按钮，然后就可以添加下载了。</p>
<p>添加种子的方式有两种，一种是种子链接，另一种是种子文件。由于微信小程序的限制，只能从微信对话中选择文件，无法从手机的文件系统直接选择。添加完种子后还可以进行下载上传限速等操作，目前只有 Transmmison 是没办法在添加种子的同时进行限速的。</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" 
  class="img-loading" data-original="https://static.duyu.page/img/2022/03/17/tian-jia-zhong-zi.jpg""></p>
<p>接下来送上自问自答的 QA 环节。</p>
<h3 id="为什么小程序的功能比桌面客户端少了很多"><a href="#为什么小程序的功能比桌面客户端少了很多" class="headerlink" title="为什么小程序的功能比桌面客户端少了很多"></a>为什么小程序的功能比桌面客户端少了很多</h3><p>以前会经常吐槽产品经理业务设计繁重交互复杂，在我自己尝试做一个原型图的时候才发现这个工作有多么难做，我面临最头疼的问题就是我想要的功能页面上放不下…</p>
<p>手机上屏幕空间有限，页面承载的功能不能太复杂，在没有产生灵光一现的产品思路前，我只能先把一些必要的功能保留。待后续把逻辑整理一番后，会增加一些常用的操作，比如种子列表排序、更新种子 Tracker 等功能。</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" 
  class="img-loading" data-original="https://static.duyu.page/img/2022/03/17/gong-neng.jpg""></p>
<h3 id="为什么我下载服务器里明明有种子，但是种子列表里看不到"><a href="#为什么我下载服务器里明明有种子，但是种子列表里看不到" class="headerlink" title="为什么我下载服务器里明明有种子，但是种子列表里看不到"></a>为什么我下载服务器里明明有种子，但是种子列表里看不到</h3><p>TransClient 默认展示活动中的种子，持续更新种子的状态和下载上传速度。如果想要查看所有的种子，可以点击页面底部的过滤按钮进行切换。</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" 
  class="img-loading" data-original="https://static.duyu.page/img/2022/03/17/guo-lu.jpg""></p>
<h3 id="为什么我的-Deluge-在服务器列表里看不到统计数据"><a href="#为什么我的-Deluge-在服务器列表里看不到统计数据" class="headerlink" title="为什么我的 Deluge 在服务器列表里看不到统计数据"></a>为什么我的 Deluge 在服务器列表里看不到统计数据</h3><p>由于 Deluge API 的限制，需要在设置-&gt;Plugins 里将 WebUi 一项勾选上。</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" 
  class="img-loading" data-original="https://static.duyu.page/img/2022/03/17/webui.jpg""></p>
<h3 id="使用-TransClient-安全么？会不会泄漏我的账号密码？"><a href="#使用-TransClient-安全么？会不会泄漏我的账号密码？" class="headerlink" title="使用 TransClient 安全么？会不会泄漏我的账号密码？"></a>使用 TransClient 安全么？会不会泄漏我的账号密码？</h3><p>在添加服务器之后，会把下载服务器的信息进行 AES 加密，数据库里不会保存任何跟自己服务器有关的明文信息，除了服务器别名和是否为默认服务器这两个参数。同时，TransClient 使用的小程序的云开发，服务器信息也不会暴露在外部的接口请求中。即便有人拿到了加密后的服务器信息，没有密钥他也是没办法解开的。</p>
<h3 id="遇到-bug-或者想要某项功能应该如何反馈"><a href="#遇到-bug-或者想要某项功能应该如何反馈" class="headerlink" title="遇到 bug 或者想要某项功能应该如何反馈"></a>遇到 bug 或者想要某项功能应该如何反馈</h3><p>可以点击个人主页的「联系作者」按钮，向我反馈相关问题。如果遇到 bug，建议通过「意见反馈」跟我沟通。</p>
<h3 id="后续有什么规划"><a href="#后续有什么规划" class="headerlink" title="后续有什么规划"></a>后续有什么规划</h3><p>会支持更多的客户端，比如 μTorrent、rTorrent；增加更多操作以及种子信息的展示，敬请期待吧。</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" 
  class="img-loading" data-original="https://static.duyu.page/img/2022/03/17/sao-masou-suo-lian-he-chuan-bo-yang-shibiao-zhun-s.png""></p>
</div></article><div class="copyright-wrapper"><p>原文作者:<a href="https://duyu.page">Rick Lee</a></p><p>原文链接:<a href="https://duyu.page/%E8%8A%B1%E4%BA%86%E4%B8%80%E4%B8%AA%E6%9C%88%E6%97%B6%E9%97%B4%E6%88%91%E5%86%99%E4%BA%86%E4%B8%80%E4%B8%AA%E8%BF%9C%E7%A8%8B%E7%AE%A1%E7%90%86%E4%B8%8B%E8%BD%BD%E4%B8%8A%E4%BC%A0%E7%9A%84%E5%B0%8F%E7%A8%8B%E5%BA%8F/">花了一个月时间，我写了一个远程管理下载上传的小程序</a></p><p>发表日期: 2020-04-19 00:30:15</p><p>更新日期: 2024-11-06 21:06:30</p><p>版权声明: 本文采用<a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc/4.0/">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可</p></div><div class="post-pager"><div class="prev"><a href="/%E5%AE%B6%E9%87%8C%E6%90%AD%E5%BB%BA%E4%BA%86NAS%E9%9C%80%E8%A6%81%E8%BF%9C%E7%A8%8B%E8%AE%BF%E9%97%AE%E8%BF%99%E5%87%A0%E4%B8%AA%E6%AD%A5%E9%AA%A4%E5%BE%88%E9%87%8D%E8%A6%81/" title="家里搭建了 NAS 需要远程访问？这几个步骤很重要">上一篇 家里搭建了 NAS 需要远程访问？这几个步骤很重要</a></div><div class="next"> <a href="/%E6%88%91%E7%9A%842010%E5%B9%B4%E4%BB%A3-%E8%A2%AB%E7%94%B5%E5%BD%B1%E5%BB%B6%E9%95%BF%E7%9A%84%E7%94%9F%E5%91%BD/" title="我的2010年代：被电影延长的生命">下一篇 我的2010年代：被电影延长的生命</a></div></div><link rel="stylesheet" href="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.css"/><script src="https://cdn.staticfile.org/gitalk/1.7.2/gitalk.min.js"></script><div id="gitalk-container"></div><script>new Gitalk({
  clientID: '2567ebe056a6a8828c51',
  clientSecret: '1503e9bf62441479908668610f3cfec314688f88',
  repo: 'techmovie.github.io',
  owner: 'techmovie',
  admin: 'techmovie',
  id: location.pathname.substr(0, 48),
  distractionFreeMode: true,
  labels: ['Gitalk'],
  title: '花了一个月时间，我写了一个远程管理下载上传的小程序',
}).render('gitalk-container');</script></section></section></main><footer class="footer-page"><div><span>Powered by</span><a target="_blank" rel="noopener" href="https://hexo.io/">Hexo</a><span>| Theme</span><a target="_blank" rel="noopener" href="https://github.com/techmovie/hexo-theme-instapaper">instapaper</a></div></footer><script src="/scripts/dark.js"></script><script src="/scripts/post.js"></script></body></html>